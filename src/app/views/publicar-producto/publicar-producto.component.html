<ion-header>
  <ion-toolbar class="custom-toolbar">
    <ion-title>Publicar</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="form-container">
    <div class="form-item">
      <label for="title">Nombre del producto</label>
      <input id="title" type="text" [(ngModel)]="productData.title" />
    </div>

    <div class="form-item">
      <label for="category">Categoría</label>
      <select id="category" [(ngModel)]="productData.category">
        <option *ngFor="let category of categories" [value]="category.id">
          {{ category.nombre }}
        </option>
      </select>
    </div>

    <div class="form-item">
      <label for="brand">Marca</label>
      <select id="brand" [(ngModel)]="productData.brand">
        <option *ngFor="let brand of brands" [value]="brand.id">
          {{ brand.nombre }}
        </option>
      </select>
    </div>

    <div class="form-item">
      <label for="price">Precio</label>
      <input id="price" type="number" [(ngModel)]="productData.price" />
    </div>

    <div class="form-item">
      <label for="description">Descripción</label>
      <textarea id="description" [(ngModel)]="productData.description"></textarea>
    </div>

    <div class="form-item">
      <label for="stock">Stock</label>
      <input id="stock" type="number" [(ngModel)]="productData.stock" />
    </div>

    <!-- <div class="form-item">
      <label for="variants">Variantes</label>
      <input id="variants" type="text" (input)="updateVariants($event)" />
    </div> -->

    <div class="form-item">
      <label for="images">Imágenes del producto</label>
      <p class="helper-text">
        Puedes agregar más de una imagen para el producto (máximo 6 imágenes).
      </p>
      <input
        id="images"
        type="file"
        (change)="onImagesChange($event)"
        multiple
        accept="image/*"
      />
    </div>

    <h3 class="preview-title">Previsualización de imágenes</h3>
    <div class="image-preview-container">
      <div
        class="image-preview"
        *ngFor="let image of previewImages; let i = index"
      >
        <img [src]="image" alt="Imagen del producto" />
        <button type="button" class="delete-button" (click)="removeImage(i)">×</button>
      </div>
    </div>


    <div class="button-container">
      <button class="publish-button" (click)="createProduct()">Publicar</button>
    </div>
  </div>
</ion-content>



<ion-footer>
  <ion-toolbar class="fixed-toolbar">
    <!-- Tabs -->
    <div class="fixed-tabs">
      <!-- Tab: Inicio -->
      <div
        class="tab-item"
        [class.active]="currentRoute === 'home'"
        (click)="navigateTo('home')"
      >
        <ion-icon name="home-outline"></ion-icon>
        <ion-label>Inicio</ion-label>
      </div>

      <!-- Tab: Tienda -->
      <div
        class="tab-item"
        [class.active]="currentRoute === 'tienda'"
        (click)="navigateTo('tienda')"
      >
        <ion-icon name="storefront-outline"></ion-icon>
        <ion-label>Tienda</ion-label>
      </div>

      <!-- Tab: Notificaciones -->
      <div
        class="tab-item"
        [class.active]="currentRoute === 'notificaciones'"
        (click)="navigateTo('notificaciones')"
      >
        <ion-icon name="notifications-outline"></ion-icon>
        <ion-label>Notificaciones</ion-label>
      </div>

      <!-- Tab: Configuración -->
      <div
        class="tab-item"
        [class.active]="currentRoute === 'mi-cuenta'"
        (click)="navigateTo('mi-cuenta')"
      >
        <ion-icon name="settings-outline"></ion-icon>
        <ion-label>Más</ion-label>
      </div>
    </div>
  </ion-toolbar>
</ion-footer>
