<ion-header>
  <ion-toolbar class="custom-toolbar">
    <div class="search-cart-container">
      <div class="search-container">
        <ion-icon name="search" class="icon-search"></ion-icon>
        <ion-input placeholder="Buscar producto o servicio"></ion-input>
      </div>
      <ion-icon name="cart-outline" class="icon-cart" (click)="navigateTo('carrito')"></ion-icon>
    </div>
  <p class="address-text" (click)="navigateTo('login')" *ngIf="!isLoggedIn">Login de prueba</p>
  <!-- Mostrar ubicación flotante más abajo -->
  </ion-toolbar>
 <p class="floating-location" *ngIf="isLoggedIn">
    <ion-icon name="location-outline" style="margin-right: 8px;"></ion-icon>
    {{ location }}
  </p>
</ion-header>

<ion-content>
  <ion-toolbar style="border-bottom: 1px solid #ccc;">
    <ion-grid>
      <ion-row class="filters-row">
        <ion-col size="auto">
          <ion-button fill="clear" class="filter-button">
            Categorías
            <ion-icon slot="end" name="chevron-down-outline"></ion-icon>
          </ion-button>
        </ion-col>
        <ion-col size="auto">
          <ion-button fill="clear" class="filter-button">
            Marca
            <ion-icon slot="end" name="chevron-down-outline"></ion-icon>
          </ion-button>
        </ion-col>
        <ion-col size="auto">
          <ion-button fill="clear" class="filter-button">
            Ordenar por
            <ion-icon slot="end" name="chevron-down-outline"></ion-icon>
          </ion-button>
        </ion-col>
        <ion-col size="auto">
          <ion-button fill="clear" class="filter-button">
            Precio
            <ion-icon slot="end" name="chevron-down-outline"></ion-icon>
          </ion-button>
        </ion-col>
        <ion-col size="auto">
          <ion-button fill="clear" class="filter-button">
            <ion-icon name="funnel-outline"></ion-icon> Filtros
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>

  <div class="product-grid">
    <ng-container *ngIf="!isLoading; else loading">
      <div
        class="product-card"
        *ngFor="let producto of productos"
        (click)="navigateTo('detalle')"
      >
        <div class="product-image">
          <img
            *ngIf="producto.images"
            [src]="producto.images"
            [alt]="producto.title || 'Producto sin título'"
          />
        </div>
        <h2 class="product-title">{{ producto.title || 'Producto sin título' }}</h2>
        <div class="product-pricing">
          <p class="price">{{ producto.price | currency }}</p>
          <!-- <p *ngIf="producto.stock > 0" class="stock">En stock: {{ producto.stock }}</p>
          <p *ngIf="producto.stock === 0" class="out-of-stock">Agotado</p> -->
        </div>
      </div>
    </ng-container>
  <ng-template #loading   >
  <div style="align-items: center;">
    <div class="spinner-border" role="status">
      <span class="sr-only">Cargando...</span>
    </div>
    <p>Cargando productos...</p>
  </div>
</ng-template>
  </div>

</ion-content>


<!-- <div class="product-card">
  <div class="product-image" (click)="navigateTo('detalle')">
    <img src="../../../assets/icon/rueda-removebg-preview.png" alt="Cubierta Michelin">
  </div>
  <h2 class="product-title">Cubierta Michelin 225 50 17</h2>
  <div class="product-pricing">
    <p class="price">$200.000</p>
    <p class="discount">15% OFF</p>
  </div>
</div> -->

<ion-footer>
  <ion-toolbar class="scrollable-toolbar">
    <!-- Indicador de deslizamiento -->
    <div class="scroll-hint">
      <ion-icon name="arrow-forward-outline"></ion-icon>
      <span>Desliza para más opciones</span>
    </div>

    <!-- Tabs -->
    <div class="scrollable-tabs">
      <!-- Tab: Inicio -->
      <div class="tab-item">
        <ion-icon name="home-outline" (click)="navigateTo('home')"></ion-icon>
        <ion-label>Inicio</ion-label>
      </div>

      <!-- Tab: Tienda -->
      <div class="tab-item">
        <ion-icon name="storefront-outline" (click)="navigateTo('tienda')"></ion-icon>
        <ion-label>Tienda</ion-label>
      </div>

      <!-- Tab: Notificaciones -->
      <div class="tab-item">
        <ion-icon name="notifications-outline" (click)="navigateTo('notificaciones')"></ion-icon>
        <ion-label>Notificaciones</ion-label>
      </div>

      <!-- Nueva Tab: Perfil -->
      <div class="tab-item">
        <ion-icon name="person-outline" (click)="navigateTo('mi-perfil')"></ion-icon>
        <ion-label>Perfil</ion-label>
      </div>

      <!-- Nueva Tab: Favoritos -->
      <div class="tab-item">
        <ion-icon name="heart-outline" (click)="navigateTo('favoritos')"></ion-icon>
        <ion-label>Favoritos</ion-label>
      </div>

      <!-- Nueva Tab: Configuración -->
      <div class="tab-item">
        <ion-icon name="settings-outline" (click)="navigateTo('mi-cuenta')"></ion-icon>
        <ion-label>Más</ion-label>
      </div>

      <!-- Nueva Tab: Ayuda -->
      <div class="tab-item">
        <ion-icon name="help-circle-outline" (click)="navigateTo('ayuda')"></ion-icon>
        <ion-label>Ayuda</ion-label>
      </div>
    </div>
  </ion-toolbar>
</ion-footer>
